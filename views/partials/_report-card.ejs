<div class="shadow-md rounded-xl p-4 flex flex-col md:flex-row md:justify-between 
  <%= report.status.toLowerCase() === 'waiting for end verification' ? 'bg-yellow-50 border-2 border-yellow-500' : 'bg-white' %>">

  <div class="flex gap-4">
    <img src="/<%= report.foto_barang %>" alt="Foto Barang" class="w-32 h-32 object-cover rounded-md" />
    <div>
      <h3 class="text-lg font-semibold mb-1"><%= report.nama_barang %></h3>
      <p class="text-sm"><strong><%= report.jenis_laporan %></strong></p>
      <p class="text-sm text-gray-600">Lokasi: <%= report.lokasi %></p>
      <p class="text-sm text-gray-600">Tanggal Kejadian: <%= report.tanggal_kejadian %></p>
      <p class="text-sm text-gray-600 mb-2">Deskripsi: <%= report.deskripsi %></p>

      <% const status = report.status.toLowerCase(); %>
      <% if (status === 'waiting for end verification') { %>
        <span class="inline-block text-xs px-2 py-1 bg-yellow-400 text-white rounded-full">Waiting for End Verification</span>
      <% } else if (status === 'end verification rejected') { %>
        <span class="inline-block text-xs px-2 py-1 bg-red-500 text-white rounded-full">End Verification Rejected</span>
      <% } else if (status === 'done') { %>
        <span class="inline-block text-xs px-2 py-1 bg-green-500 text-white rounded-full">Done</span>
      <% } %>
    </div>
  </div>

  <!-- Tombol kanan bawah -->
  <div class="flex flex-col items-end justify-end mt-4 md:mt-0 md:ml-4">
    <div class="flex gap-2 mb-2">
      <!-- Approve -->
      <form action="/confirm-done/approve-report/<%= report.id_laporan %>" method="POST">
        <input type="hidden" name="filter" value="<%= activeFilter %>">
        <input type="hidden" name="dropdown" value="<%= currentDropdown %>">
        <input type="hidden" name="search" value="<%= searchQuery %>">
        <input type="hidden" name="redirect" value="/confirm-done<%= currentDropdown ? '?dropdown=' + currentDropdown : '' %><%= searchQuery ? (currentDropdown ? '&' : '?') + 'search=' + searchQuery : '' %>">
        <button
          class="bg-green-500 text-white px-4 py-2 rounded hover:bg-green-600 
          <%= (report.verifikasi_action === 'approved' || !(status === 'waiting for end verification' || status === 'end verification rejected')) ? 'opacity-50 cursor-not-allowed' : '' %>"
          <%= (report.verifikasi_action === 'approved' || !(status === 'waiting for end verification' || status === 'end verification rejected')) ? 'disabled' : '' %>>
          Approve
        </button>
      </form>

      <!-- Denied -->
      <form action="/confirm-done/denied-report/<%= report.id_laporan %>" method="POST">
        <input type="hidden" name="filter" value="<%= activeFilter %>">
        <input type="hidden" name="dropdown" value="<%= currentDropdown %>">
        <input type="hidden" name="search" value="<%= searchQuery %>">
        <input type="hidden" name="redirect" value="/confirm-done<%= currentDropdown ? '?dropdown=' + currentDropdown : '' %><%= searchQuery ? (currentDropdown ? '&' : '?') + 'search=' + searchQuery : '' %>">
        <button
          class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 
          <%= (report.verifikasi_action === 'denied' || !(status === 'waiting for end verification' || status === 'done')) ? 'opacity-50 cursor-not-allowed' : '' %>"
          <%= (report.verifikasi_action === 'denied' || !(status === 'waiting for end verification' || status === 'done')) ? 'disabled' : '' %>>
          Denied
        </button>
      </form>
    </div>

    <!-- See Details -->
    <a href="/laporan/detail/<%= report.id_laporan %>" class="w-full">
      <button class="w-full px-4 py-2 border border-gray-400 rounded hover:bg-gray-100 text-sm">
        See Details
      </button>
    </a>
  </div>
</div>
