<!-- views/partials/cardLaporan.ejs -->
<div class="shadow-md rounded-xl p-4 flex flex-col md:flex-row md:justify-between <%= report.status === 'Waiting for upload verification' ? 'bg-yellow-50 border-2 border-yellow-500' : 'bg-white' %>">
  <div class="flex gap-4">
    <img src="/<%= report.foto_barang %>" alt="Foto Barang" class="w-32 h-32 object-cover rounded-md" />
    <div>
      <h3 class="text-lg font-semibold mb-1"><%= report.nama_barang %></h3>
      <p class="text-sm"><strong><%= report.jenis_laporan %></strong></p>
      <p class="text-sm text-gray-600">Lokasi: <%= report.lokasi %></p>
      <p class="text-sm text-gray-600">Tanggal Kejadian: <%= report.tanggal_kejadian %></p>
      <p class="text-sm text-gray-600 mb-2">Deskripsi: <%= report.deskripsi %></p>
      <% if (report.status === 'Waiting for upload verification') { %>
        <span class="inline-block text-xs px-2 py-1 bg-yellow-400 text-white rounded-full">Waiting for upload verification</span>
      <% } else if (report.status === 'Upload verification rejected') { %>
        <span class="inline-block text-xs px-2 py-1 bg-red-400 text-white rounded-full">Upload verification rejected</span>
      <% } else { %>
        <span class="inline-block text-xs px-2 py-1 bg-green-400 text-white rounded-full">On Progress</span>
      <% } %>
    </div>
  </div>
  <div class="flex flex-col gap-2 mt-4 md:mt-0 md:items-end">
    <div class="flex gap-2">
      <form action="/approve-report/<%= report.id_laporan %>" method="POST">
        <button 
          type="submit" 
          class="px-3 py-1 rounded text-white <%= ['Waiting for upload verification', 'Upload verification rejected'].includes(report.status) ? 'bg-green-500 hover:bg-green-600' : 'bg-gray-400 cursor-not-allowed' %>" 
          <%= ['Waiting for upload verification', 'Upload verification rejected'].includes(report.status) ? '' : 'disabled' %>>
          Approve
        </button>
      </form>
      <form action="/denied-report/<%= report.id_laporan %>" method="POST">
        <button 
          type="submit" 
          class="px-3 py-1 rounded text-white <%= ['Waiting for upload verification', 'On Progress'].includes(report.status) ? 'bg-red-500 hover:bg-red-600' : 'bg-gray-400 cursor-not-allowed' %>" 
          <%= ['Waiting for upload verification', 'On Progress'].includes(report.status) ? '' : 'disabled' %>>
          Denied
        </button>
      </form>
    </div>
    <a href="/laporan/detail/<%= report.id_laporan %>">
      <button class="mt-2 px-3 py-1 border border-gray-400 rounded hover:bg-gray-100">See Details</button>
    </a>
  </div>
</div>
